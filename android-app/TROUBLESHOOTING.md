# Вирішення проблем з підключенням

## Проблема: "Не підключено"

### Крок 1: Перевірте, чи запущений синхронізаційний сервер

1. Відкрийте **Electron додаток** (Service Center)
2. Перейдіть в **Налаштування** (⚙️)
3. Виберіть вкладку **"Синхронізація з мобільним додатком"**
4. Перевірте статус сервера:
   - ✅ **Зелений індикатор** = сервер запущено
   - ❌ **Червоний індикатор** = сервер зупинено

5. Якщо сервер зупинено:
   - Введіть порт (за замовчуванням: `3000`)
   - Натисніть кнопку **"Запустити сервер"**

### Крок 2: Перевірте IP адресу

**Важливо:** Використовуйте IP адресу комп'ютера, а НЕ `localhost` або `127.0.0.1`!

1. В Electron додатку в налаштуваннях синхронізації побачите список IP адрес
2. Скопіюйте одну з них (наприклад: `192.168.0.101`)
3. В Android додатку в налаштуваннях введіть:
   ```
   http://192.168.0.101:3000
   ```
   (замініть на вашу IP адресу)

### Крок 3: Перевірте мережу

**Обидва пристрої мають бути в одній Wi-Fi мережі!**

- Комп'ютер і телефон мають бути підключені до одного Wi-Fi роутера
- Перевірте, що телефон не використовує мобільний інтернет

### Крок 4: Перевірте Firewall

**На Linux (Manjaro/Arch):**

```bash
# Перевірте, чи відкритий порт 3000
sudo firewall-cmd --list-ports

# Якщо потрібно, дозвольте порт 3000
sudo firewall-cmd --add-port=3000/tcp --permanent
sudo firewall-cmd --reload
```

**Або тимчасово вимкніть firewall для тестування:**
```bash
sudo systemctl stop firewalld  # Тимчасово
```

### Крок 5: Перевірте підключення вручну

**На телефоні (в браузері):**
Відкрийте браузер і перейдіть за адресою:
```
http://ВАША_IP_АДРЕСА:3000/api/health
```

Повинен з'явитися JSON:
```json
{"status":"ok","timestamp":"2025-12-02T..."}
```

Якщо не відкривається - проблема в мережі або firewall.

### Крок 6: Перевірте налаштування Android додатку

1. Відкрийте Android додаток
2. Перейдіть в **Налаштування**
3. Перевірте поле **"URL сервера"**:
   - Має бути: `http://192.168.X.X:3000`
   - НЕ має бути: `localhost`, `127.0.0.1`, або без `http://`
4. Натисніть **"Зберегти"**
5. Натисніть **"Перевірити"**

### Крок 7: Перевірте логи

**В Electron додатку:**
- Відкрийте консоль розробника (F12)
- Перевірте, чи є помилки

**В Android Studio:**
- Перевірте Logcat на наявність помилок підключення

## Типові помилки

### "Connection refused"
- Сервер не запущений
- Неправильний порт
- Firewall блокує підключення

### "Network unreachable"
- Різні Wi-Fi мережі
- Неправильна IP адреса
- Мобільний інтернет замість Wi-Fi

### "Timeout"
- Firewall блокує
- Неправильна IP адреса
- Сервер не запущений

## Швидка перевірка

1. ✅ Сервер запущений в Electron?
2. ✅ Правильна IP адреса в Android додатку?
3. ✅ Обидва пристрої в одній мережі?
4. ✅ Firewall дозволяє порт 3000?
5. ✅ `/api/health` відкривається в браузері телефону?

Якщо всі пункти ✅, але все одно не працює - перезапустіть обидва додатки.


