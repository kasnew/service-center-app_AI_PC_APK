# Service Center Android App

–ü–æ–≤–Ω–æ—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π Android –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å–µ—Ä–≤—ñ—Å–Ω–∏–º —Ü–µ–Ω—Ç—Ä–æ–º –∑ –Ω–∞—Ç–∏–≤–Ω–∏–º —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º —Ç–∞ –≤–±—É–¥–æ–≤–∞–Ω–∏–º HTTPS —Å–µ—Ä–≤–µ—Ä–æ–º –¥–ª—è –¥–æ—Å—Ç—É–ø—É –∑ –ü–ö.

## –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

### üì± –ù–∞—Ç–∏–≤–Ω–∏–π Android UI (Jetpack Compose)
- **–ö–ª—ñ—î–Ω—Ç–∏**: —Å–ø–∏—Å–æ–∫, –ø–æ—à—É–∫, –ø–µ—Ä–µ–≥–ª—è–¥ –∫–∞—Ä—Ç–∫–∏, —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è/—Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è
- **–†–µ–º–æ–Ω—Ç–∏**: —Å–ø–∏—Å–æ–∫ —Ä–µ–º–æ–Ω—Ç—ñ–≤, —Å—Ç–∞—Ç—É—Å–∏, —Å—É–º–∞, –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ
- **–¢–æ–≤–∞—Ä–∏**: —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä—ñ–≤, –∫—ñ–ª—å–∫—ñ—Å—Ç—å, —Ü—ñ–Ω–∏ –∑–∞–∫—É–ø–∫–∏/–ø—Ä–æ–¥–∞–∂—É
- **–§—ñ–Ω–∞–Ω—Å–∏**: –¥–æ—Ö–æ–¥–∏/–≤–∏—Ç—Ä–∞—Ç–∏, –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –ø—ñ–¥—Å—É–º–∫–∏
- **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è**: –∑–º—ñ–Ω–∞ PIN, –±–µ–∫–∞–ø–∏, —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å–µ—Ä–≤–µ—Ä–æ–º

### üîê –ë–µ–∑–ø–µ–∫–∞
- **SQLCipher**: AES-256 —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
- **Android Keystore**: –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –∫–ª—é—á–∞ —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è
- **PIN –∑–∞—Ö–∏—Å—Ç**: 4-6 –∑–Ω–∞—á–Ω–∏–π PIN –¥–ª—è –¥–æ—Å—Ç—É–ø—É
- **HTTPS —Å–µ—Ä–≤–µ—Ä**: —Å–∞–º–æ–ø—ñ–¥–ø–∏—Å–∞–Ω–∏–π —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç
- **Bearer Token**: –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è —á–µ—Ä–µ–∑ 64-—Å–∏–º–≤–æ–ª—å–Ω–∏–π —Ç–æ–∫–µ–Ω
- **–õ–æ–∫–∞–ª—å–Ω–∞ –º–µ—Ä–µ–∂–∞**: –¥–æ—Å—Ç—É–ø —Ç—ñ–ª—å–∫–∏ –≤ Wi-Fi –º–µ—Ä–µ–∂—ñ

### üåê –í–±—É–¥–æ–≤–∞–Ω–∏–π HTTPS —Å–µ—Ä–≤–µ—Ä
- **Ktor embedded server**: –ª–µ–≥–∫–∏–π —Ç–∞ —à–≤–∏–¥–∫–∏–π
- **REST API**: –ø–æ–≤–Ω–∏–π CRUD –¥–ª—è –≤—Å—ñ—Ö —Å—É—Ç–Ω–æ—Å—Ç–µ–π
- **–í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: HTML+CSS+JS –¥–ª—è –¥–æ—Å—Ç—É–ø—É –∑ –ü–ö
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è IP**: –ø–æ–∫–∞–∑—É—î IP –∞–¥—Ä–µ—Å—É –≤ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è—Ö

### üì¶ –Ü–º–ø–æ—Ä—Ç –¥–∞–Ω–∏—Ö
- –Ü–º–ø–æ—Ä—Ç –∑ —ñ—Å–Ω—É—é—á–æ—ó –ë–î Service Center Project
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–∞–Ω–∏—Ö
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –≤—Å—ñ—Ö —Ç–∞–±–ª–∏—Ü—å: –∫–ª—ñ—î–Ω—Ç–∏, —Ä–µ–º–æ–Ω—Ç–∏, —Ç–æ–≤–∞—Ä–∏

### üì∑ –°–∫–∞–Ω–µ—Ä —à—Ç—Ä–∏—Ö-–∫–æ–¥—ñ–≤
- ML Kit Barcode Scanning
- –®–≤–∏–¥–∫–µ —Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è —Ç–æ–≤–∞—Ä—ñ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –ø–æ—à—É–∫ —Ç–æ–≤–∞—Ä—É –ø–æ —à—Ç—Ä–∏—Ö-–∫–æ–¥—É

## –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

### –í–∏–º–æ–≥–∏
- Android Studio Hedgehog (2023.1.1) –∞–±–æ –Ω–æ–≤—ñ—à–∞
- Android SDK 24+ (Android 7.0+)
- Kotlin 1.9.22+
- JDK 17+

### –ö—Ä–æ–∫–∏

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ Android Studio
2. File ‚Üí Open ‚Üí –≤–∏–±–µ—Ä—ñ—Ç—å –ø–∞–ø–∫—É `android-app-v2`
3. –î–æ–∑–≤–æ–ª—å—Ç–µ Gradle —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É–≤–∞—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
4. –ó–∞—á–µ–∫–∞–π—Ç–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
5. –ü—ñ–¥–∫–ª—é—á—ñ—Ç—å Android –ø—Ä–∏—Å—Ç—Ä—ñ–π –∞–±–æ –∑–∞–ø—É—Å—Ç—ñ—Ç—å –µ–º—É–ª—è—Ç–æ—Ä
6. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å Run

## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –ü–µ—Ä—à–∏–π –∑–∞–ø—É—Å–∫

1. –ü—Ä–∏ –ø–µ—Ä—à–æ–º—É –∑–∞–ø—É—Å–∫—É –≤—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å PIN (4-6 —Ü–∏—Ñ—Ä)
2. –ü—ñ–¥—Ç–≤–µ—Ä–¥—ñ—Ç—å PIN
3. –ü—ñ—Å–ª—è —Ü—å–æ–≥–æ –≤—ñ–¥–∫—Ä–∏—î—Ç—å—Å—è –≥–æ–ª–æ–≤–Ω–∏–π –µ–∫—Ä–∞–Ω

### –†–æ–±–æ—Ç–∞ –∑ –¥–æ–¥–∞—Ç–∫–æ–º

#### –ö–ª—ñ—î–Ω—Ç–∏
- –ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ —Å–ø–∏—Å–æ–∫ –∫–ª—ñ—î–Ω—Ç—ñ–≤
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ø–æ—à—É–∫ –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ –ø–æ—à—É–∫—É
- –î–æ–¥–∞–π—Ç–µ –Ω–æ–≤–æ–≥–æ –∫–ª—ñ—î–Ω—Ç–∞ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É "+"
- –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –Ω–∞ –∫–ª—ñ—î–Ω—Ç–∞ –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É –¥–µ—Ç–∞–ª–µ–π

#### –†–µ–º–æ–Ω—Ç–∏
- –ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ –≤—Å—ñ —Ä–µ–º–æ–Ω—Ç–∏
- –§—ñ–ª—å—Ç—Ä—É–π—Ç–µ –ø–æ —Å—Ç–∞—Ç—É—Å—É
- –î–æ–¥–∞–π—Ç–µ –Ω–æ–≤–∏–π —Ä–µ–º–æ–Ω—Ç
- –û–Ω–æ–≤–ª—é–π—Ç–µ —Å—Ç–∞—Ç—É—Å —Ä–µ–º–æ–Ω—Ç—É

#### –¢–æ–≤–∞—Ä–∏
- –ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ —Ç–æ–≤–∞—Ä–∏ –Ω–∞ —Å–∫–ª–∞–¥—ñ
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Å–∫–∞–Ω–µ—Ä —à—Ç—Ä–∏—Ö-–∫–æ–¥—ñ–≤
- –î–æ–¥–∞–π—Ç–µ –Ω–æ–≤–∏–π —Ç–æ–≤–∞—Ä
- –í—ñ–¥—Å—Ç–µ–∂—É–π—Ç–µ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ç–∞ —Ü—ñ–Ω–∏

#### –§—ñ–Ω–∞–Ω—Å–∏
- –ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ –¥–æ—Ö–æ–¥–∏ —Ç–∞ –≤–∏—Ç—Ä–∞—Ç–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –ø—ñ–¥—Å—É–º–∫–∏
- –î–æ–¥–∞–π—Ç–µ –Ω–æ–≤–∏–π –¥–æ—Ö—ñ–¥ –∞–±–æ –≤–∏—Ç—Ä–∞—Ç—É

### –î–æ—Å—Ç—É–ø –∑ –ü–ö

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è**
2. –£–≤—ñ–º–∫–Ω—ñ—Ç—å **"–î–æ—Å—Ç—É–ø –∑ –ü–ö"**
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"–ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–µ—Ä–≤–µ—Ä"**
4. –°–∫–æ–ø—ñ—é–π—Ç–µ IP –∞–¥—Ä–µ—Å—É —Ç–∞ –ø–æ—Ä—Ç (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: `https://192.168.1.100:8443`)
5. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –Ω–∞ –ü–ö —Ç–∞ –≤–≤–µ–¥—ñ—Ç—å –∞–¥—Ä–µ—Å—É
6. –í–≤–µ–¥—ñ—Ç—å Bearer Token (–ø–æ–∫–∞–∑—É—î—Ç—å—Å—è –≤ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è—Ö)

### –Ü–º–ø–æ—Ä—Ç –¥–∞–Ω–∏—Ö

1. –°–∫–æ–ø—ñ—é–π—Ç–µ —Ñ–∞–π–ª –ë–î (`1.sqlite`) –Ω–∞ –ø—Ä–∏—Å—Ç—Ä—ñ–π
2. –í—ñ–¥–∫—Ä–∏–π—Ç–µ **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è** ‚Üí **–Ü–º–ø–æ—Ä—Ç**
3. –í–∏–±–µ—Ä—ñ—Ç—å —Ñ–∞–π–ª –ë–î
4. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"–Ü–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏"**
5. –ó–∞—á–µ–∫–∞–π—Ç–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è —ñ–º–ø–æ—Ä—Ç—É

### –ë–µ–∫–∞–ø–∏

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è**
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"–°—Ç–≤–æ—Ä–∏—Ç–∏ –±–µ–∫–∞–ø"**
3. –ë–µ–∫–∞–ø –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ –ø–∞–ø—Ü—ñ `backups/`

## API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è
–í—Å—ñ API –∑–∞–ø–∏—Ç–∏ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å Bearer Token –≤ –∑–∞–≥–æ–ª–æ–≤–∫—É:
```
Authorization: Bearer <your-token>
```

### Endpoints

#### –ö–ª—ñ—î–Ω—Ç–∏
- `GET /api/clients` - —Å–ø–∏—Å–æ–∫ –∫–ª—ñ—î–Ω—Ç—ñ–≤
- `GET /api/clients/{id}` - –¥–µ—Ç–∞–ª—ñ –∫–ª—ñ—î–Ω—Ç–∞
- `POST /api/clients` - —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∫–ª—ñ—î–Ω—Ç–∞
- `PUT /api/clients/{id}` - –æ–Ω–æ–≤–∏—Ç–∏ –∫–ª—ñ—î–Ω—Ç–∞
- `DELETE /api/clients/{id}` - –≤–∏–¥–∞–ª–∏—Ç–∏ –∫–ª—ñ—î–Ω—Ç–∞

#### –†–µ–º–æ–Ω—Ç–∏
- `GET /api/repairs` - —Å–ø–∏—Å–æ–∫ —Ä–µ–º–æ–Ω—Ç—ñ–≤
- `GET /api/repairs/{id}` - –¥–µ—Ç–∞–ª—ñ —Ä–µ–º–æ–Ω—Ç—É
- `POST /api/repairs` - —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Ä–µ–º–æ–Ω—Ç
- `PUT /api/repairs/{id}` - –æ–Ω–æ–≤–∏—Ç–∏ —Ä–µ–º–æ–Ω—Ç
- `DELETE /api/repairs/{id}` - –≤–∏–¥–∞–ª–∏—Ç–∏ —Ä–µ–º–æ–Ω—Ç

#### –¢–æ–≤–∞—Ä–∏
- `GET /api/products` - —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä—ñ–≤
- `GET /api/products/{id}` - –¥–µ—Ç–∞–ª—ñ —Ç–æ–≤–∞—Ä—É
- `POST /api/products` - —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–æ–≤–∞—Ä
- `PUT /api/products/{id}` - –æ–Ω–æ–≤–∏—Ç–∏ —Ç–æ–≤–∞—Ä
- `DELETE /api/products/{id}` - –≤–∏–¥–∞–ª–∏—Ç–∏ —Ç–æ–≤–∞—Ä

#### –§—ñ–Ω–∞–Ω—Å–∏
- `GET /api/finance` - —Å–ø–∏—Å–æ–∫ —Ñ—ñ–Ω–∞–Ω—Å–æ–≤–∏—Ö –∑–∞–ø–∏—Å—ñ–≤
- `POST /api/finance` - —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∑–∞–ø–∏—Å

#### –°–ª—É–∂–±–æ–≤—ñ
- `GET /api/ping` - –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑'—î–¥–Ω–∞–Ω–Ω—è
- `GET /api/version` - –≤–µ—Ä—Å—ñ—è API

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

```
android-app-v2/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îî‚îÄ‚îÄ src/main/java/com/servicecenter/
‚îÇ       ‚îú‚îÄ‚îÄ data/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ db/              # SQLCipher –±–∞–∑–∞ –¥–∞–Ω–∏—Ö
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ models/          # –ú–æ–¥–µ–ª—ñ –¥–∞–Ω–∏—Ö
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ repositories/    # –†–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó —Ç–∞ DAO
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ import/         # –Ü–º–ø–æ—Ä—Ç –∑ legacy –ë–î
‚îÇ       ‚îú‚îÄ‚îÄ api/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ server/          # Ktor HTTPS —Å–µ—Ä–≤–µ—Ä
‚îÇ       ‚îú‚îÄ‚îÄ security/            # PIN, Keystore
‚îÇ       ‚îú‚îÄ‚îÄ ui/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ screens/         # –ï–∫—Ä–∞–Ω–∏
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ viewmodels/      # ViewModels
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ navigation/      # –ù–∞–≤—ñ–≥–∞—Ü—ñ—è
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ theme/           # –¢–µ–º–∏
‚îÇ       ‚îî‚îÄ‚îÄ web/                 # –í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å (assets)
```

## –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

- **Jetpack Compose** - —Å—É—á–∞—Å–Ω–∏–π UI —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **Room + SQLCipher** - —à–∏—Ñ—Ä–æ–≤–∞–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö
- **Hilt** - dependency injection
- **Ktor** - –≤–±—É–¥–æ–≤–∞–Ω–∏–π HTTPS —Å–µ—Ä–≤–µ—Ä
- **ML Kit** - —Å–∫–∞–Ω–µ—Ä —à—Ç—Ä–∏—Ö-–∫–æ–¥—ñ–≤
- **Coroutines & Flow** - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–µ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è

## –õ—ñ—Ü–µ–Ω–∑—ñ—è

–ü—Ä–∏–≤–∞—Ç–Ω–∏–π –ø—Ä–æ—î–∫—Ç

